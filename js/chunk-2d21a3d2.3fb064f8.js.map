{"version":3,"sources":["webpack:///./src/views/Home.vue?eae8","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?493c","webpack:///./src/views/Home.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","timeList","length","model","value","callback","$$v","time","expression","_l","item","index","key","on","$event","_s","getIcon","weatherElement","records","location","getWeatherIndex","parameter","parameterValue","parameterName","mapAndColor","mapMode","iconPointAndIcon","getFocus","class","focusAear","properties","COUNTYNAME","_e","staticRenderFns","name","components","Map","data","iconPoint","computed","res","features","i","color","JSON","parse","stringify","push","$global","MMDDHHmm","arr","startTime","endTime","getFocusIndex","methods","getColor","component"],"mappings":"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","file":"js/chunk-2d21a3d2.3fb064f8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.weatherElement)?_c('div',{staticClass:\"home\"},[_c('div',{staticClass:\"homeTitle\"},[_vm._v(\"今明36小時天氣預報\"),_c('Timer')],1),_c('div',{staticClass:\"homeSlider\"},[_c('div',{staticClass:\"homeSliderTitle\"},[_vm._v(\"請選擇時段\")]),_c('el-slider',{attrs:{\"min\":0,\"max\":_vm.timeList.length-1,\"step\":1,\"show-stops\":\"\",\"show-tooltip\":false},model:{value:(_vm.time),callback:function ($$v) {_vm.time=$$v},expression:\"time\"}}),_c('div',{staticClass:\"homeSliderLabel\"},_vm._l((_vm.timeList),function(item,index){return _c('div',{key:index,staticClass:\"homeSliderLabelItem\",on:{\"click\":function($event){_vm.time=index}}},[_vm._v(_vm._s(item))])}),0)],1),_c('div',{staticClass:\"homeBox\"},[_c('div',{staticClass:\"homeBoxCol\"},[_c('HomeBoxColItem',{attrs:{\"title\":\"Wx(天氣現象)\",\"icon\":_vm.getIcon(_vm.weatherElement.records.location[_vm.getWeatherIndex].weatherElement[0].time[_vm.time].parameter.parameterValue),\"content\":_vm.weatherElement.records.location[_vm.getWeatherIndex].weatherElement[0].time[_vm.time].parameter.parameterName}}),_c('HomeBoxColItem',{attrs:{\"title\":\"PoP(降雨機率)\",\"content\":_vm.weatherElement.records.location[_vm.getWeatherIndex].weatherElement[1].time[_vm.time].parameter.parameterName+'%'}}),_c('HomeBoxColItem',{attrs:{\"title\":\"CI(舒適度)\",\"content\":_vm.weatherElement.records.location[_vm.getWeatherIndex].weatherElement[3].time[_vm.time].parameter.parameterName}}),_c('HomeBoxColItem',{attrs:{\"title\":\"MinT(最低溫度)\",\"content\":_vm.weatherElement.records.location[_vm.getWeatherIndex].weatherElement[2].time[_vm.time].parameter.parameterName+'°C'}}),_c('HomeBoxColItem',{attrs:{\"title\":\"MaxT(最高溫度)\",\"content\":_vm.weatherElement.records.location[_vm.getWeatherIndex].weatherElement[4].time[_vm.time].parameter.parameterName+'°C'}})],1),_c('Map',{attrs:{\"map\":_vm.mapAndColor,\"time\":_vm.time,\"mapMode\":_vm.mapMode,\"weatherElement\":_vm.weatherElement,\"iconPoint\":_vm.iconPointAndIcon},on:{\"getFocus\":_vm.getFocus}},[_c('div',{staticClass:\"mapMode\"},[_c('div',{staticClass:\"mapModeItem\",class:{'mapModeChange':_vm.mapMode==1},on:{\"click\":function($event){_vm.mapMode=1}}},[_vm._v(\"降雨機率\")]),_c('div',{staticClass:\"mapModeItem\",class:{'mapModeChange':_vm.mapMode==2},on:{\"click\":function($event){_vm.mapMode=2}}},[_vm._v(\"最低溫度\")]),_c('div',{staticClass:\"mapModeItem\",class:{'mapModeChange':_vm.mapMode==4},on:{\"click\":function($event){_vm.mapMode=4}}},[_vm._v(\"最高溫度\")])]),_c('div',{staticClass:\"country\"},[_vm._v(_vm._s(_vm.focusAear.properties&&_vm.focusAear.properties.COUNTYNAME ? _vm.focusAear.properties.COUNTYNAME : ''))])]),_c('div',{staticClass:\"homeBoxCol\"},[_c('RouterList')],1)],1)]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"home\" v-if=\"weatherElement\">\n    <div class=\"homeTitle\">今明36小時天氣預報<Timer></Timer></div>\n    <div class=\"homeSlider\">\n      <div class=\"homeSliderTitle\">請選擇時段</div>\n      <el-slider v-model=\"time\" :min=\"0\" :max=\"timeList.length-1\" :step=\"1\" show-stops :show-tooltip=\"false\"></el-slider>\n      <div class=\"homeSliderLabel\">\n        <div class=\"homeSliderLabelItem\" v-for=\"(item,index) in timeList\" :key=\"index\" @click=\"time=index\">{{item}}</div>\n      </div>\n    </div>\n    <div class=\"homeBox\">\n      <div class=\"homeBoxCol\">\n        <HomeBoxColItem title=\"Wx(天氣現象)\" :icon=\"getIcon(weatherElement.records.location[getWeatherIndex].weatherElement[0].time[time].parameter.parameterValue)\" :content=\"weatherElement.records.location[getWeatherIndex].weatherElement[0].time[time].parameter.parameterName\"></HomeBoxColItem>\n        <HomeBoxColItem title=\"PoP(降雨機率)\" :content=\"weatherElement.records.location[getWeatherIndex].weatherElement[1].time[time].parameter.parameterName+'%'\"></HomeBoxColItem>\n        <HomeBoxColItem title=\"CI(舒適度)\" :content=\"weatherElement.records.location[getWeatherIndex].weatherElement[3].time[time].parameter.parameterName\"></HomeBoxColItem>\n        <HomeBoxColItem title=\"MinT(最低溫度)\" :content=\"weatherElement.records.location[getWeatherIndex].weatherElement[2].time[time].parameter.parameterName+'°C'\"></HomeBoxColItem>\n        <HomeBoxColItem title=\"MaxT(最高溫度)\" :content=\"weatherElement.records.location[getWeatherIndex].weatherElement[4].time[time].parameter.parameterName+'°C'\"></HomeBoxColItem>\n      </div>\n      <Map :map=\"mapAndColor\" :time=\"time\" :mapMode=\"mapMode\" :weatherElement=\"weatherElement\" :iconPoint=\"iconPointAndIcon\" @getFocus=\"getFocus\">\n        <div class=\"mapMode\">\n          <div class=\"mapModeItem\" :class=\"{'mapModeChange':mapMode==1}\" @click=\"mapMode=1\">降雨機率</div>\n          <div class=\"mapModeItem\" :class=\"{'mapModeChange':mapMode==2}\" @click=\"mapMode=2\">最低溫度</div>\n          <div class=\"mapModeItem\" :class=\"{'mapModeChange':mapMode==4}\" @click=\"mapMode=4\">最高溫度</div>\n        </div>\n        <div class=\"country\">{{focusAear.properties&&focusAear.properties.COUNTYNAME ? focusAear.properties.COUNTYNAME : ''}}</div>\n      </Map>\n      <div class=\"homeBoxCol\">\n        <RouterList></RouterList>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Map from '@/components/Map'\nimport Timer from '@/components/Timer'\nimport HomeBoxColItem from '@/components/HomeBoxColItem'\nimport RouterList from '@/components/RouterList'\nimport iconPoint from '@/assets/json/iconPoint.json'\nimport map from '@/assets/json/map.json'\n\nexport default {\n  name: 'Home',\n  components: {\n    Map,Timer,HomeBoxColItem,RouterList\n  },\n  data() {\n    return {\n      time:0,\n      mapMode:1,\n      weatherElement:\"\",\n      focusAear:map.features[6],\n      iconPoint:iconPoint\n    }\n  },\n  computed: {\n    mapAndColor() {\n      let res=map\n      for(let i in res.features) {\n        res.features[i].properties.color=this.getColor(res.features[i])\n        if(i==this.getFocusIndex) {\n          res.features[i].properties.color=\"rgba(255,255,255,0.5)\"\n        }\n      }\n      return JSON.parse(JSON.stringify(res))\n    },\n    timeList() {\n      let res=[]\n      let arr=this.weatherElement.records.location[0].weatherElement[this.mapMode].time\n      for(let i in arr) {\n        if(i==0) {\n          res.push(this.$global.MMDDHHmm(arr[i].startTime))\n        }\n        else {\n          res.push(this.$global.MMDDHHmm(arr[i].endTime))\n        }\n      }\n      return res\n    },\n    getFocusIndex() {\n      if(!this.focusAear) return 0\n      let arr=map.features.map(res=>res.properties.COUNTYNAME)\n      let index=arr.indexOf(this.focusAear.properties.COUNTYNAME)\n      return index\n    },\n    getWeatherIndex() {\n      let arr=this.weatherElement.records.location.map(res=>res.locationName)\n      let index=arr.indexOf(this.focusAear.properties.COUNTYNAME)\n      return index   \n    },\n    iconPointAndIcon() {\n      let res=this.iconPoint\n      for(let item of res) {\n        let arr=this.weatherElement.records.location.map(res=>res.locationName)\n        let index=arr.indexOf(item.country)\n        let value=this.weatherElement.records.location[index].weatherElement[0].time[this.time].parameter.parameterValue\n        //console.log(value)\n        item.icon=this.getIcon(value)\n      }\n      return res\n    }\n  },\n  async created() {\n    this.weatherElement=await this.$api.FC0032001()\n    //console.log(this.mapAndColor)\n  },\n  methods: {\n    getFocus(e) {\n      this.focusAear=e\n      //console.log(this.focusAear)\n      //console.log(this.weatherElement.records.location[this.getFocusIndex])\n    },\n    getIcon(x) {\n      let res=\"\"\n      let arr=[\n        {num:1,icon:\"el-icon-sunny\"},\n        {num:4,icon:\"el-icon-cloudy-and-sunny\"},\n        {num:7,icon:\"el-icon-cloudy\"},\n        {num:10,icon:\"el-icon-light-rain\"},\n        {num:14,icon:\"el-icon-heavy-rain\"},\n      ]\n      for(let item of arr) {\n        if(x>=item.num) {\n          res=item.icon\n        }\n      }\n      return res\n    },\n    getColor(x) {\n      let arr=this.weatherElement.records.location.filter(res=>res.locationName==x.properties.COUNTYNAME)[0]\n      let value=arr.weatherElement[this.mapMode].time[this.time].parameter.parameterName\n      value=0.01*Number(value)\n      let res=this.mapMode==1 ? \"rgba(0,0,255,\"+value+\")\" : \"rgba(255,0,0,\"+value+\")\"\n      return res\n    }\n  }\n  \n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=6b6d5fd3&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}