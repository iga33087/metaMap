(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21a3d2"],{bb51:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.weatherElement?a("div",{staticClass:"home"},[a("div",{staticClass:"homeTitle"},[e._v("今明36小時天氣預報"),a("Timer")],1),a("div",{staticClass:"homeSlider"},[a("div",{staticClass:"homeSliderTitle"},[e._v("請選擇時段")]),a("el-slider",{attrs:{min:0,max:e.timeList.length-1,step:1,"show-stops":"","show-tooltip":!1},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}}),a("div",{staticClass:"homeSliderLabel"},e._l(e.timeList,(function(t,o){return a("div",{key:o,staticClass:"homeSliderLabelItem",on:{click:function(t){e.time=o}}},[e._v(e._s(t))])})),0)],1),a("div",{staticClass:"homeBox"},[a("div",{staticClass:"homeBoxCol"},[a("HomeBoxColItem",{attrs:{title:"Wx(天氣現象)",icon:e.getIcon(e.weatherElement.records.location[e.getWeatherIndex].weatherElement[0].time[e.time].parameter.parameterValue),content:e.weatherElement.records.location[e.getWeatherIndex].weatherElement[0].time[e.time].parameter.parameterName}}),a("HomeBoxColItem",{attrs:{title:"PoP(降雨機率)",content:e.weatherElement.records.location[e.getWeatherIndex].weatherElement[1].time[e.time].parameter.parameterName+"%"}}),a("HomeBoxColItem",{attrs:{title:"CI(舒適度)",content:e.weatherElement.records.location[e.getWeatherIndex].weatherElement[3].time[e.time].parameter.parameterName}}),a("HomeBoxColItem",{attrs:{title:"MinT(最低溫度)",content:e.weatherElement.records.location[e.getWeatherIndex].weatherElement[2].time[e.time].parameter.parameterName+"°C"}}),a("HomeBoxColItem",{attrs:{title:"MaxT(最高溫度)",content:e.weatherElement.records.location[e.getWeatherIndex].weatherElement[4].time[e.time].parameter.parameterName+"°C"}})],1),a("Map",{attrs:{map:e.mapAndColor,time:e.time,mapMode:e.mapMode,weatherElement:e.weatherElement,iconPoint:e.iconPointAndIcon},on:{getFocus:e.getFocus}},[a("div",{staticClass:"mapMode"},[a("div",{staticClass:"mapModeItem",class:{mapModeChange:1==e.mapMode},on:{click:function(t){e.mapMode=1}}},[e._v("降雨機率")]),a("div",{staticClass:"mapModeItem",class:{mapModeChange:2==e.mapMode},on:{click:function(t){e.mapMode=2}}},[e._v("最低溫度")]),a("div",{staticClass:"mapModeItem",class:{mapModeChange:4==e.mapMode},on:{click:function(t){e.mapMode=4}}},[e._v("最高溫度")])]),a("div",{staticClass:"country"},[e._v(e._s(e.focusAear.properties&&e.focusAear.properties.COUNTYNAME?e.focusAear.properties.COUNTYNAME:""))])]),a("div",{staticClass:"homeBoxCol"},[a("RouterList")],1)],1)]):e._e()},r=[],n=(a("4de4"),a("c975"),a("d81d"),a("a9e3"),a("96cf"),a("1da1")),i=a("b85c"),s=a("a0be"),m=a("84ac"),c=a("b4f8"),l=a("1b99"),u=a("82e9"),d=a("3e16"),h={name:"Home",components:{Map:s["a"],Timer:m["a"],HomeBoxColItem:c["a"],RouterList:l["a"]},data:function(){return{time:0,mapMode:1,weatherElement:"",focusAear:d.features[6],iconPoint:u}},computed:{mapAndColor:function(){var e=d;for(var t in e.features)e.features[t].properties.color=this.getColor(e.features[t]),t==this.getFocusIndex&&(e.features[t].properties.color="rgba(255,255,255,0.5)");return JSON.parse(JSON.stringify(e))},timeList:function(){var e=[],t=this.weatherElement.records.location[0].weatherElement[this.mapMode].time;for(var a in t)0==a?e.push(this.$global.MMDDHHmm(t[a].startTime)):e.push(this.$global.MMDDHHmm(t[a].endTime));return e},getFocusIndex:function(){if(!this.focusAear)return 0;var e=d.features.map((function(e){return e.properties.COUNTYNAME})),t=e.indexOf(this.focusAear.properties.COUNTYNAME);return t},getWeatherIndex:function(){var e=this.weatherElement.records.location.map((function(e){return e.locationName})),t=e.indexOf(this.focusAear.properties.COUNTYNAME);return t},iconPointAndIcon:function(){var e,t=this.iconPoint,a=Object(i["a"])(t);try{for(a.s();!(e=a.n()).done;){var o=e.value,r=this.weatherElement.records.location.map((function(e){return e.locationName})),n=r.indexOf(o.country),s=this.weatherElement.records.location[n].weatherElement[0].time[this.time].parameter.parameterValue;o.icon=this.getIcon(s)}}catch(m){a.e(m)}finally{a.f()}return t}},created:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.FC0032001();case 2:e.weatherElement=t.sent,console.log(e.mapAndColor);case 4:case"end":return t.stop()}}),t)})))()},methods:{getFocus:function(e){this.focusAear=e,console.log(this.focusAear)},getIcon:function(e){for(var t="",a=[{num:1,icon:"el-icon-sunny"},{num:4,icon:"el-icon-cloudy-and-sunny"},{num:7,icon:"el-icon-cloudy"},{num:10,icon:"el-icon-light-rain"},{num:14,icon:"el-icon-heavy-rain"}],o=0,r=a;o<r.length;o++){var n=r[o];e>=n.num&&(t=n.icon)}return t},getColor:function(e){var t=this.weatherElement.records.location.filter((function(t){return t.locationName==e.properties.COUNTYNAME}))[0],a=t.weatherElement[this.mapMode].time[this.time].parameter.parameterName;a=.01*Number(a);var o=1==this.mapMode?"rgba(0,0,255,"+a+")":"rgba(255,0,0,"+a+")";return o}}},p=h,f=a("2877"),v=Object(f["a"])(p,o,r,!1,null,null,null);t["default"]=v.exports}}]);
//# sourceMappingURL=chunk-2d21a3d2.271ea932.js.map