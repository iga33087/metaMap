(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21a3d2"],{bb51:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.weatherElement?r("div",{staticClass:"home"},[r("div",{staticClass:"homeTitle"},[e._v("今明36小時天氣預報"),r("Timer")],1),r("div",{staticClass:"homeSlider"},[r("div",{staticClass:"homeSliderTitle"},[e._v("請選擇時段")]),r("el-slider",{attrs:{min:0,max:e.timeList.length-1,step:1,"show-stops":"","show-tooltip":!1},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}}),r("div",{staticClass:"homeSliderLabel"},e._l(e.timeList,(function(t,n){return r("div",{key:n,staticClass:"homeSliderLabelItem",on:{click:function(t){e.time=n}}},[e._v(e._s(t))])})),0)],1),r("div",{staticClass:"homeBox"},[r("div",{staticClass:"homeBoxCol"},[r("HomeBoxColItem",{attrs:{title:"Wx(天氣現象)",icon:e.getIcon(e.weatherElement.records.location[e.getWeatherIndex].weatherElement[0].time[e.time].parameter.parameterValue),content:e.weatherElement.records.location[e.getWeatherIndex].weatherElement[0].time[e.time].parameter.parameterName}}),r("HomeBoxColItem",{attrs:{title:"PoP(降雨機率)",content:e.weatherElement.records.location[e.getWeatherIndex].weatherElement[1].time[e.time].parameter.parameterName+"%"}}),r("HomeBoxColItem",{attrs:{title:"CI(舒適度)",content:e.weatherElement.records.location[e.getWeatherIndex].weatherElement[3].time[e.time].parameter.parameterName}}),r("HomeBoxColItem",{attrs:{title:"MinT(最低溫度)",content:e.weatherElement.records.location[e.getWeatherIndex].weatherElement[2].time[e.time].parameter.parameterName+"°C"}}),r("HomeBoxColItem",{attrs:{title:"MaxT(最高溫度)",content:e.weatherElement.records.location[e.getWeatherIndex].weatherElement[4].time[e.time].parameter.parameterName+"°C"}})],1),r("Map",{attrs:{map:e.mapAndColor,time:e.time,mapMode:e.mapMode,weatherElement:e.weatherElement,iconPoint:e.iconPointAndIcon},on:{getFocus:e.getFocus}},[r("div",{staticClass:"mapMode"},[r("div",{staticClass:"mapModeItem",class:{mapModeChange:1==e.mapMode},on:{click:function(t){e.mapMode=1}}},[e._v("降雨機率")]),r("div",{staticClass:"mapModeItem",class:{mapModeChange:2==e.mapMode},on:{click:function(t){e.mapMode=2}}},[e._v("最低溫度")]),r("div",{staticClass:"mapModeItem",class:{mapModeChange:4==e.mapMode},on:{click:function(t){e.mapMode=4}}},[e._v("最高溫度")])]),r("div",{staticClass:"country"},[e._v(e._s(e.focusAear.properties&&e.focusAear.properties.COUNTYNAME?e.focusAear.properties.COUNTYNAME:""))])]),r("div",{staticClass:"homeBoxCol"},[r("RouterList")],1)],1)]):e._e()},o=[],a=r("a34a"),i=r.n(a),s=r("a0be"),c=r("84ac"),m=r("b4f8"),l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"routerList"},[r("router-link",{attrs:{to:{name:"Home"}}},[r("div",{staticClass:"routerListItem"},[e._v("今明36小時天氣預報")])]),r("router-link",{attrs:{to:{name:"Week"}}},[r("div",{staticClass:"routerListItem"},[e._v("未來1週天氣預報")])])],1)},u=[],d={},h=d,p=r("2877"),f=Object(p["a"])(h,l,u,!1,null,null,null),v=f.exports,w=r("82e9"),C=r("3e16");function g(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(m){return void r(m)}s.done?t(c):Promise.resolve(c).then(n,o)}function E(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){g(a,n,o,i,s,"next",e)}function s(e){g(a,n,o,i,s,"throw",e)}i(void 0)}))}}function M(e,t){var r;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=x(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw a}}}}function x(e,t){if(e){if("string"===typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var I={name:"Home",components:{Map:s["a"],Timer:c["a"],HomeBoxColItem:m["a"],RouterList:v},data:function(){return{time:0,mapMode:1,weatherElement:"",focusAear:C.features[6],iconPoint:w}},computed:{mapAndColor:function(){var e=C;for(var t in e.features)e.features[t].properties.color=this.getColor(e.features[t]),t==this.getFocusIndex&&(e.features[t].properties.color="rgba(255,255,255,0.5)");return JSON.parse(JSON.stringify(e))},timeList:function(){var e=[],t=this.weatherElement.records.location[0].weatherElement[this.mapMode].time;for(var r in t)0==r?e.push(this.$global.MMDDHHmm(t[r].startTime)):e.push(this.$global.MMDDHHmm(t[r].endTime));return e},getFocusIndex:function(){if(!this.focusAear)return 0;var e=C.features.map((function(e){return e.properties.COUNTYNAME})),t=e.indexOf(this.focusAear.properties.COUNTYNAME);return t},getWeatherIndex:function(){var e=this.weatherElement.records.location.map((function(e){return e.locationName})),t=e.indexOf(this.focusAear.properties.COUNTYNAME);return t},iconPointAndIcon:function(){var e,t=this.iconPoint,r=M(t);try{for(r.s();!(e=r.n()).done;){var n=e.value,o=this.weatherElement.records.location.map((function(e){return e.locationName})),a=o.indexOf(n.country),i=this.weatherElement.records.location[a].weatherElement[0].time[this.time].parameter.parameterValue;n.icon=this.getIcon(i)}}catch(s){r.e(s)}finally{r.f()}return t}},created:function(){var e=this;return E(i.a.mark((function t(){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.dispatch("loading",!0),t.next=3,e.$api.FC0032001();case 3:e.weatherElement=t.sent,e.$store.dispatch("loading",!1);case 5:case"end":return t.stop()}}),t)})))()},methods:{getFocus:function(e){this.focusAear=e},getIcon:function(e){for(var t="",r=[{num:1,icon:"el-icon-sunny"},{num:4,icon:"el-icon-cloudy-and-sunny"},{num:7,icon:"el-icon-cloudy"},{num:10,icon:"el-icon-light-rain"},{num:14,icon:"el-icon-heavy-rain"}],n=0,o=r;n<o.length;n++){var a=o[n];e>=a.num&&(t=a.icon)}return t},getColor:function(e){var t=this.weatherElement.records.location.filter((function(t){return t.locationName==e.properties.COUNTYNAME}))[0],r=t.weatherElement[this.mapMode].time[this.time].parameter.parameterName;r=.01*Number(r);var n=1==this.mapMode?"rgba(0,0,255,"+r+")":"rgba(255,0,0,"+r+")";return n}}},b=I,A=Object(p["a"])(b,n,o,!1,null,null,null);t["default"]=A.exports}}]);
//# sourceMappingURL=chunk-2d21a3d2.3b0c6284.js.map